<!DOCTYPE html>
    <head>
        <base href="/" />
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>How to install the Play Store in an API 25 emulator</title>
    <link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon/favicon-16x16.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="assets/img/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
<link href="assets/css/style.css" rel="stylesheet" />
<link href="assets/font/css/open-iconic-bootstrap.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.2/styles/vs2015.min.css">
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous" data-no-mirror=data-no-mirror></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous" data-no-mirror=data-no-mirror></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous" data-no-mirror=data-no-mirror></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.2/highlight.min.js"></script>
<link type="application/rss+xml" rel="alternate" title="JTMaher2&#x27;s Blog" href="https://jtmaher2.github.io/My-Blog//blog/rss/" />

        
    <meta property="og:type" content="article">
    <meta property="og:title" content="How to install the Play Store in an API 25 emulator">

    </head>
    <body class="main">
        <div class="top-row px-4">
    <h1 class="site-title"><a href="/My-Blog" class="text-reset text-decoration-none">JTMaher2&#x27;s Blog</a></h1>
    <div>
        <h3>About Me</h3>
        <img src="My-Blog/assets/img/me.jpg" />
        <p>
            I am James Maher, a software developer in the Midwest, USA. I like anything Microsoft stack related, such as C#, .NET, UWP, .NET Core, Xamarin, WPF, ASP.NET MVC, WCF, and other technologies. When I am not working, I like to be active and do things like running, playing tennis and hiking. I also like music, specifically classical piano, which I am not terrible at playing.
        </p>
    </div>
    <div class="links">
        <a href="My-Blog/blog/">Blog</a>
    </div>
</div>
        <div id="site_container" class="container-fluid flex-fill">
            <div class="row">
                <main id="page_container" role="main" class="col">
                    <section class="body-section">
                        <div class="body-container">
                            <div class="row">
                                <div class="col-12 col-lg-9">
                                        <section class="page-section">
        <div class="row">
            <div class="col-12">
                <article class="post">
                    <header>
                        <h2 itemprop="headline name" class="text-primary">How to install the Play Store in an API 25 emulator</h2>
                        <div class="bh">
                            <time datetime="12/28/2016" itemprop="datePublished">December 28, 2016</time>
                        </div>
                    </header>
                    <hr />
                    <div itemprop="articleBody">
                        <p><strong>UPDATE 7-15-2018:</strong></p>
<p><strong>As of Android Studio 3.0, this procedure is no longer necessary, as there are both Nexus 5 and Nexus 5X AVD images available with Google Play already installed.</strong></p>
<p>I recently was in a situation where I needed to test a Google Maps API app on a virtual device.
When I launched the app, I got an error message about Google Play services needing to be
installed in order for the app to be usable. This was strange, I thought, because I had
intentionally downloaded the Google Play Services image instead of the plain one. However, it
seems that, even if you download the Google Play Services image, you still need to have the
Play Store installed in order to use the Maps API. Currently, the only Android emulator with
official support for the Play Store is Genymotion, which is a paid product. Instead of this,
I decided to try to manually install the Play Store from the OpenGapps &quot;Pico&quot;
package (<a href="http://opengapps.org/">http://opengapps.org/</a>). This package contains a directory called &quot;Core,&quot; which contains a large number of
.tar.lz archives. To extract these archives, you must use L-Zip (<a href="http://www.nongnu.org/lzip/lzip.html">http://www.nongnu.org/lzip/lzip.html</a>). However, doing this
only extracts the .lz part. In order to extract the full archive, you must use another
program that is capable of processing .tar files (e.g. <a href="http://www.7-zip.org/">7-zip</a>). The archives that you need
to extract are: gmscore-X (where X is the type of image you are using),
gsfcore-all, gsflogin-all, and vending-all. Before these archives can be pushed to the
emulator, you must start the emulator in writable mode. To do this, open a command prompt
to the Android\sdk\tools\ directory and type</p>
<pre><code>emulator -avd YOUR_DEVICE_NAME -writable-system -selinux permissive</code></pre>.
<p>Once the emulator has been opened, start a new command prompt in the
Android\sdk\platform-tools\ directory and type</p>
<pre><code>adb root
adb remount</code></pre> in order to remount the filesystem in writable mode.
<p>You now will be able to push the previously-extracted APKs:</p>
<pre><code>adb push PrebuiltGmsCore.apk /system/priv-app/PrebuiltGmsCore
adb push GoogleServicesFramework.apk /system/priv-app/GoogleServicesFramework
adb push GoogleLoginService.apk /system/priv-app/GoogleLoginService
adb push Phonesky.apk /system/priv-app/Phonesky
</code></pre>
<p>Next, you must make these APKs executable:</p>
<pre><code>adb shell
chmod 777 /system/priv-app/PrebuiltGmsCore
chmod 777 /system/priv-app/GoogleServicesFramework
chmod 777 /system/priv-app/GoogleLoginService
chmod 777 /system/priv-app/Phonesky
</code></pre>
<p>Finally, restart the emulator:</p>
<pre><code>adb stop
adb start
</code></pre>
<p>If you encounter messages about Google Play Services not behaving properly (e.g. crashing), try deleting the current AVD and making a new one using the image that you just patched.</p>
<p>Now, you should see the Play Store icon on your dashboard.</p>
<p>I would like to thank the people who replied to these StackOverflow posts: <a href="http://stackoverflow.com/questions/5095234/how-to-get-root-access-on-android-emulator">http://stackoverflow.com/questions/5095234/how-to-get-root-access-on-android-emulator</a>, <a href="http://stackoverflow.com/questions/34291902/android-studio-emulator-does-not-come-with-play-store-for-api-23">http://stackoverflow.com/questions/34291902/android-studio-emulator-does-not-come-with-play-store-for-api-23</a>
for helping me figure this out.</p>
<p>Comments? Did this not work? Send me a message at jtmaher2(at)gmail(dot)com, or follow me on Twitter.</p>

                    </div>
                    <div class="collapse" aria-hidden="true" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
                        <meta itemprop="name">
                    </div>
                    <meta itemprop="dateModified">
                </article>
            </div>
        </div>
    </section>


                                </div>
                                    <div class="col-lg-3 col-12">
                                        <div>
    <div class="card">
    <div class="card-header"><span class="oi oi-folder"></span> Categories</div>
    <div class="list-group list-group-flush">
    </div>
</div>

</div>
<div class="mt-3">
    <div class="card">
    <div class="card-header"><span class="oi oi-calendar"></span> Archives</div>
    <div class="card-body">
    </div>
</div>

</div>
                                    </div>
                            </div>
                            
                        </div>
                    </section>
                    <a href="https://www.github.com/jtmaher2"><img src="http://jtmaher2.github.io/My-Blog/assets/img/github.png" /></a>
<script>hljs.initHighlightingOnLoad();</script>
                </main>
            </div>
        </div>
    </body>
</html>